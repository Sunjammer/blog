!function(){"use strict";var e=function(){};e.__name__=!0,e.exists=function(e,t){for(var n=e.iterator();n.hasNext();){var r=n.next();if(t(r))return!0}return!1};var t=function(){this.length=0};t.__name__=!0,t.prototype={iterator:function(){return{h:this.h,hasNext:function(){return null!=this.h},next:function(){if(null==this.h)return null;var e=this.h[0];return this.h=this.h[1],e}}}};var n={__ename__:!0,__constructs__:["WAITING_FOR_LETTER","WAITING_FOR_SPACE","WAITING_FOR_ENTER","IDLE"]};n.WAITING_FOR_LETTER=["WAITING_FOR_LETTER",0],n.WAITING_FOR_LETTER.__enum__=n,n.WAITING_FOR_SPACE=["WAITING_FOR_SPACE",1],n.WAITING_FOR_SPACE.__enum__=n,n.WAITING_FOR_ENTER=["WAITING_FOR_ENTER",2],n.WAITING_FOR_ENTER.__enum__=n,n.IDLE=["IDLE",3],n.IDLE.__enum__=n;var r={__ename__:!0,__constructs__:["CHAR","END"]};r.CHAR=function(e,t,n){var a=["CHAR",0,e,t,n];return a.__enum__=r,a},r.END=["END",1],r.END.__enum__=r;var a={};a.Line_Impl_=function(){},a.Line_Impl_.__name__=!0,a.Line_Impl_._new=function(){return new Array},a.Line_Impl_.add=function(e,t){var n=t.split("");e.push(n)},a.Line_Impl_.next=function(e){if(0==e.length)return r.END;0==e[0].length&&e.shift();var t=1==e[0].length,n=1==e.length&&t;return r.CHAR(e[0].shift(),t,n)},a.Line_Impl_.complete=function(e){return 0==e.length};var i=function(){};i.__name__=!0,i.main=function(){var e=window.document;e.onkeydown=i.onKeyDown,i.contentDiv=e.getElementById("contents"),i.loadText(),i.appendLine()},i.loadText=function(){var e=new _.Http("Main.hx");e.onError=s.Lib.alert,e.onData=i.onDataLoaded,e.request(!1)},i.onDataLoaded=function(e){var t=e.split("\n");i.lines=[];for(var r=0;r<t.length;){var a=t[r];if(++r,""!=a){for(var o=new Array,_=a.split(" "),s=0;s<_.length;){var u=_[s];++s;var l=u.split("");o.push(l)}i.lines.push(o)}}i.status=n.WAITING_FOR_LETTER,i.appendLine()},i.appendLine=function(){i.contentDiv.appendChild(function(){var e,t=window.document;return e=i.currentParagraph=t.createElement("pre")}(this))},i.appendText=function(e){"	"==e&&(e="    "),i.currentParagraph.innerHTML+=e,window.scrollTo(0,window.document.body.scrollHeight+50)},i.completeLine=function(){try{for(;;){var e,t=i.lines[0];if(0==t.length)e=r.END;else{0==t[0].length&&t.shift();var a=1==t[0].length,o=1==t.length&&a;e=r.CHAR(t[0].shift(),a,o)}switch(e[1]){case 0:var _=e[4],s=e[3],u=e[2];if(i.appendText(u),s&&i.appendText(" "),_)throw"__break__";break;case 1:throw"__break__"}}}catch(l){if("__break__"!=l)throw l}i.lines.shift(),i.appendLine(),i.status=n.WAITING_FOR_LETTER},i.advance=function(){if(i.status!=n.WAITING_FOR_LETTER)return!1;if(0==i.lines.length)return i.status=n.IDLE,i.appendLine(),i.loadText(),!1;var e,t=i.lines[0];if(0==t.length)e=r.END;else{0==t[0].length&&t.shift();var a=1==t[0].length,o=1==t.length&&a;e=r.CHAR(t[0].shift(),a,o)}switch(e[1]){case 0:var _=e[4],s=e[3],u=e[2];i.appendText(u),_?(i.lines.shift(),i.requireEnter&&!i.allowSkipLine?i.status=n.WAITING_FOR_ENTER:i.appendLine()):s&&(i.requireSpaces?i.status=n.WAITING_FOR_SPACE:i.appendText(" "));break;case 1:return i.lines.shift(),i.status=0==i.lines.length?n.IDLE:i.requireEnter?n.WAITING_FOR_ENTER:n.WAITING_FOR_LETTER,!1}return!0},i.onKeyDown=function(e){var t=e.keyCode,r=i.status;switch(r[1]){case 2:13==t&&(i.appendLine(),i.status=n.WAITING_FOR_LETTER);break;case 1:32==t&&(i.appendText(" "),i.status=n.WAITING_FOR_LETTER);break;case 0:if(i.allowSkipLine&&13==t)i.completeLine();else for(var a=0,s=i.interval;s>a;){var u=a++;0==u?i.advance():_.Timer.delay(i.advance,u*(16+o.random(60)))}break;case 3:}},Math.__name__=!0;var o=function(){};o.__name__=!0,o.random=function(e){return 0>=e?0:Math.floor(Math.random()*e)};var _={};_.Http=function(e){this.url=e,this.headers=new t,this.params=new t,this.async=!0},_.Http.__name__=!0,_.Http.prototype={request:function(t){var n=this;n.responseData=null;var r=this.req=s.Browser.createXMLHttpRequest(),a=function(){if(4==r.readyState){var e;try{e=r.status}catch(t){e=null}if(void 0==e&&(e=null),null!=e&&n.onStatus(e),null!=e&&e>=200&&400>e)n.req=null,n.onData(n.responseData=r.responseText);else if(null==e)n.req=null,n.onError("Failed to connect or resolve host");else switch(e){case 12029:n.req=null,n.onError("Failed to connect to host");break;case 12007:n.req=null,n.onError("Unknown host");break;default:n.req=null,n.responseData=r.responseText,n.onError("Http Error #"+r.status)}}};this.async&&(r.onreadystatechange=a);var i=this.postData;if(null!=i)t=!0;else for(var o=this.params.iterator();o.hasNext();){var _=o.next();null==i?i="":i+="&",i+=encodeURIComponent(_.param)+"="+encodeURIComponent(_.value)}try{if(t)r.open("POST",this.url,this.async);else if(null!=i){var u=this.url.split("?").length<=1;r.open("GET",this.url+(u?"?":"&")+i,this.async),i=null}else r.open("GET",this.url,this.async)}catch(l){return n.req=null,void this.onError(l.toString())}!e.exists(this.headers,function(e){return"Content-Type"==e.header})&&t&&null==this.postData&&r.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var c=this.headers.iterator();c.hasNext();){var h=c.next();r.setRequestHeader(h.header,h.value)}r.send(i),this.async||a(null)},onData:function(){},onError:function(){},onStatus:function(){}},_.Timer=function(e){var t=this;this.id=setInterval(function(){t.run()},e)},_.Timer.__name__=!0,_.Timer.delay=function(e,t){var n=new _.Timer(t);return n.run=function(){n.stop(),e()},n},_.Timer.prototype={stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){}};var s={};s.Boot=function(){},s.Boot.__name__=!0,s.Boot.__string_rec=function(e,t){if(null==e)return"null";if(t.length>=5)return"<...>";var n=typeof e;switch("function"==n&&(e.__name__||e.__ename__)&&(n="object"),n){case"object":if(e instanceof Array){if(e.__enum__){if(2==e.length)return e[0];var r=e[0]+"(";t+="	";for(var a=2,i=e.length;i>a;){var o=a++;r+=2!=o?","+s.Boot.__string_rec(e[o],t):s.Boot.__string_rec(e[o],t)}return r+")"}var _=e.length,u="[";t+="	";for(var l=0;_>l;){var c=l++;u+=(c>0?",":"")+s.Boot.__string_rec(e[c],t)}return u+="]"}var h;try{h=e.toString}catch(f){return"???"}if(null!=h&&h!=Object.toString){var p=e.toString();if("[object Object]"!=p)return p}var T=null,I="{\n";t+="	";var E=null!=e.hasOwnProperty;for(var T in e)(!E||e.hasOwnProperty(T))&&"prototype"!=T&&"__class__"!=T&&"__super__"!=T&&"__interfaces__"!=T&&"__properties__"!=T&&(2!=I.length&&(I+=", \n"),I+=t+T+" : "+s.Boot.__string_rec(e[T],t));return t=t.substring(1),I+="\n"+t+"}";case"function":return"<function>";case"string":return e;default:return String(e)}},s.Browser=function(){},s.Browser.__name__=!0,s.Browser.createXMLHttpRequest=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)return new ActiveXObject("Microsoft.XMLHTTP");throw"Unable to create XMLHttpRequest object."},s.Lib=function(){},s.Lib.__name__=!0,s.Lib.alert=function(e){alert(s.Boot.__string_rec(e,""))},Math.NaN=Number.NaN,Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,Math.isFinite=function(e){return isFinite(e)},Math.isNaN=function(e){return isNaN(e)},String.__name__=!0,Array.__name__=!0,i.KEY_ENTER=13,i.KEY_SPACE=32,i.TAB="    ",i.requireSpaces=!1,i.requireEnter=!0,i.allowSkipLine=!0,i.interval=2,i.status=n.IDLE,i.lines=[],i.main()}();